<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅุฏุงุฑุฉ ุงูุนุฑูุถ - ูุฑูุฒ ุงูุชุฌููู</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="offers.css">
</head>
<body>
    <!-- ุงูููุฏุฑ -->
    <div class="header sticky-header">
        <h1>๐ ุฅุฏุงุฑุฉ ุงูุนุฑูุถ ๐</h1>
        <div class="user-info">
            <div class="user-details">
                <div id="userName" class="user-name"></div>
                <div id="userRole" class="user-role"></div>
            </div>
            <button onclick="window.location.href='../main.html'" class="back-btn">ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</button>
        </div>
    </div>

    <!-- ุฑุณุงูุฉ ุงููุธุงู -->
    <div id="message" class="message-container" style="display: none;"></div>

    <div class="container">
        <!-- ูุณู ุงูููุชุฑุฉ -->
        <div class="filter-section sticky-filter">
            <div class="filter-controls">
                <select id="categoryFilter" aria-label="ููุชุฑ ุงูุฃูุณุงู">
                    <option value="all">ุฌููุน ุงูุฃูุณุงู</option>
                </select>

                <select id="offerTypeFilter" aria-label="ููุน ุงูุนุฑุถ">
                    <option value="all">ุฌููุน ุงูุฃููุงุน</option>
                    <option value="package">ุจุงูุฏุฌ ุฌูุณุงุช</option>
                    <option value="discount">ุชุฎููุถ ุณุนุฑ</option>
                </select>

                <select id="statusFilter" aria-label="ุญุงูุฉ ุงูุนุฑุถ">
                    <option value="active">ุงูุนุฑูุถ ุงููุดุทุฉ</option>
                    <option value="expired">ุงูุนุฑูุถ ุงูููุชููุฉ</option>
                    <option value="all">ุฌููุน ุงูุนุฑูุถ</option>
                </select>

                <div class="offers-count" id="offersCount" aria-live="polite">0 ุนุฑุถ</div>
            </div>
        </div>

        <div class="content-wrapper">
            <!-- ุงูุดุฑูุท ุงูุฌุงูุจู -->
            <aside class="sidebar" aria-label="ุดุฑูุท ุฌุงูุจู">
                <!-- ุฅุญุตุงุฆูุงุช ุงูุนุฑูุถ -->
                <div class="form-section stats-section">
                    <h3>๐ ุฅุญุตุงุฆูุงุช ุงูุนุฑูุถ</h3>
                    <div class="stat-row">
                        <div>ุงูุนุฑูุถ ุงููุดุทุฉ</div>
                        <div id="activeOffersCount">0</div>
                    </div>
                    <div class="stat-row">
                        <div>ุงูุนุฑูุถ ุงูููุชููุฉ</div>
                        <div id="expiredOffersCount">0</div>
                    </div>
                    <div class="stat-row">
                        <div>ุฅุฌูุงูู ุงูุนุฑูุถ</div>
                        <div id="totalOffersCount">0</div>
                    </div>
                </div>

                <!-- ูููุฐุฌ ุฅุถุงูุฉ ุนุฑุถ ุฌุฏูุฏ -->
                <div class="form-section">
                    <h3>โ ุฅุถุงูุฉ ุนุฑุถ ุฌุฏูุฏ</h3>
                    <form id="addOfferForm">
                        <!-- ุงุฎุชูุงุฑ ุงููุณู -->
                        <div class="input-group">
                            <label>ุงููุณู: <span class="required">*</span></label>
                            <select id="offerCategory" required>
                                <option value="">ุงุฎุชุฑ ุงููุณู</option>
                            </select>
                        </div>

                        <!-- ุงุฎุชูุงุฑ ุงูุฎุฏูุฉ -->
                        <div class="input-group">
                            <label>ุงูุฎุฏูุฉ: <span class="required">*</span></label>
                            <select id="offerService" required disabled>
                                <option value="">ุงุฎุชุฑ ุงูุฎุฏูุฉ ุฃููุงู</option>
                            </select>
                        </div>

                        <!-- ููุน ุงูุนุฑุถ -->
                        <div class="input-group">
                            <label>ููุน ุงูุนุฑุถ: <span class="required">*</span></label>
                            <select id="offerType" required>
                                <option value="">ุงุฎุชุฑ ููุน ุงูุนุฑุถ</option>
                                <option value="package">ุจุงูุฏุฌ ุฌูุณุงุช ูุญุฏุฏุฉ</option>
                                <option value="discount">ุชุฎููุถ ุนูู ุณุนุฑ ุงูุฎุฏูุฉ</option>
                            </select>
                        </div>

                        <!-- ุนุฏุฏ ุงูุฌูุณุงุช (ููุจุงูุฏุฌ ููุท) -->
                        <div class="input-group hidden" id="sessionsGroup">
                            <label>ุนุฏุฏ ุงูุฌูุณุงุช: <span class="required">*</span></label>
                            <input type="number" id="sessionsCount" min="2" placeholder="ูุซุงู: 10">
                            <small class="helper-text">ุนุฏุฏ ุงูุฌูุณุงุช ูู ุงูุจุงูุฏุฌ</small>
                        </div>

                        <!-- ุงูุณุนุฑ ุงูุฃุตูู (ูุธูุฑ ุชููุงุฆูุงู) -->
                        <div class="input-group">
                            <label>ุงูุณุนุฑ ุงูุฃุตูู:</label>
                            <div class="price-display" id="originalPriceDisplay">
                                <span class="price-value">0.00</span>
                                <span class="price-currency">ุฌููู</span>
                            </div>
                        </div>

                        <!-- ุณุนุฑ ุงูุนุฑุถ -->
                        <div class="input-group">
                            <label>ุณุนุฑ ุงูุนุฑุถ: <span class="required">*</span></label>
                            <input type="number" id="offerPrice" step="0.01" min="0" placeholder="ุฃุฏุฎู ุณุนุฑ ุงูุนุฑุถ" required>
                            <small class="helper-text">ุงูุณุนุฑ ุงูุฐู ุณูุฏูุนู ุงูุนููู</small>
                        </div>

                        <!-- ูุณุจุฉ ุงูุชุฎููุถ (ุชุญุณุจ ุชููุงุฆูุงู) -->
                        <div class="discount-percentage" id="discountPercentage" style="display: none;">
                            <span class="discount-label">ูุณุจุฉ ุงูุชุฎููุถ:</span>
                            <span class="discount-value">0%</span>
                        </div>

                        <!-- ุชุงุฑูุฎ ุงูุจุฏุงูุฉ -->
                        <div class="input-group">
                            <label>ุชุงุฑูุฎ ุจุฏุงูุฉ ุงูุนุฑุถ: <span class="required">*</span></label>
                            <input type="date" id="startDate" required>
                        </div>

                        <!-- ุชุงุฑูุฎ ุงูููุงูุฉ -->
                        <div class="input-group">
                            <label>ุชุงุฑูุฎ ููุงูุฉ ุงูุนุฑุถ: <span class="required">*</span></label>
                            <input type="date" id="endDate" required>
                        </div>

                        <!-- ููุงุญุธุงุช ุงุฎุชูุงุฑูุฉ -->
                        <div class="input-group">
                            <label>ููุงุญุธุงุช (ุงุฎุชูุงุฑู):</label>
                            <textarea id="offerNotes" rows="3" placeholder="ุฃู ููุงุญุธุงุช ุฅุถุงููุฉ..."></textarea>
                        </div>

                        <button type="submit" class="submit-btn">ุฅุถุงูุฉ ุงูุนุฑุถ</button>
                    </form>
                </div>
            </aside>

            <!-- ุงูููุทูุฉ ุงูุฑุฆูุณูุฉ ููุนุฑูุถ -->
            <main class="offers-main" role="main">
                <!-- ูุคุดุฑ ุงูุชุญููู -->
                <div id="loadingOffers" class="loading" style="display: none;">ุฌุงุฑู ุงูุชุญููู...</div>

                <!-- ุดุจูุฉ ุงูุนุฑูุถ -->
                <div id="offersGrid" class="offers-grid">
                    <!-- ุณูุชู ููุคูุง ุจุงูุจูุงูุงุช -->
                </div>

                <!-- ุญุงูุฉ ุงููุฑุงุบ -->
                <div id="emptyOffersState" class="empty-state" style="display: none;">
                    <div class="icon">๐</div>
                    <h3>ูุง ุชูุฌุฏ ุนุฑูุถ</h3>
                    <p>ุงุจุฏุฃ ุจุฅุถุงูุฉ ุนุฑุถ ุฌุฏูุฏ ูู ุงูุดุฑูุท ุงูุฌุงูุจู</p>
                </div>
            </main>
        </div>
    </div>

    <!-- ููุฏุงู ุชุนุฏูู ุงูุนุฑุถ -->
    <div id="editOfferModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>โ๏ธ ุชุนุฏูู ุงูุนุฑุถ</h3>
                <button class="close-btn" onclick="closeEditModal()">โ</button>
            </div>
            <div class="modal-body">
                <form id="editOfferForm">
                    <input type="hidden" id="editOfferId">
                    
                    <!-- ุณุนุฑ ุงูุนุฑุถ ุงูุฌุฏูุฏ -->
                    <div class="input-group">
                        <label>ุณุนุฑ ุงูุนุฑุถ ุงูุฌุฏูุฏ: <span class="required">*</span></label>
                        <input type="number" id="editOfferPrice" step="0.01" min="0" required>
                    </div>

                    <!-- ุชุงุฑูุฎ ุงูููุงูุฉ ุงูุฌุฏูุฏ -->
                    <div class="input-group">
                        <label>ุชุงุฑูุฎ ููุงูุฉ ุงูุนุฑุถ: <span class="required">*</span></label>
                        <input type="date" id="editEndDate" required>
                    </div>

                    <!-- ููุงุญุธุงุช -->
                    <div class="input-group">
                        <label>ููุงุญุธุงุช:</label>
                        <textarea id="editOfferNotes" rows="3"></textarea>
                    </div>

                    <div class="modal-footer">
                        <button type="submit" class="save-btn">ุญูุธ ุงูุชุนุฏููุงุช</button>
                        <button type="button" class="cancel-btn" onclick="closeEditModal()">ุฅูุบุงุก</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ููุฏุงู ุนุฑุถ ุงูุนููุงุก ุงููุณุชููุฏูู -->
    <div id="customersModal" class="modal hidden">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>๐ฅ ุงูุนููุงุก ุงููุณุชููุฏูู ูู ุงูุนุฑุถ</h3>
                <button class="close-btn" onclick="closeCustomersModal()">โ</button>
            </div>
            <div class="modal-body">
                <div id="customersList" class="customers-list">
                    <!-- ุณูุชู ููุคูุง ุจุงูุจูุงูุงุช -->
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="offers.js"></script>
</body>
</html>